<!doctype html>
<html>
    <head>
        <title>photo upload v1</title>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
        <script src="https://cdn.rawgit.com/puhseechee/jpsych2/jpsychadd/jspsych-5.0/jspsych.js"></script>
        <script src="https://cdn.rawgit.com/puhseechee/jpsych2/jpsychadd/jspsych-5.0/plugins/jspsych-photo-upload.js"></script>
        <script src="https://cdn.rawgit.com/puhseechee/jpsych2/jpsychadd/jspsych-5.0/plugins/jspsych-text.js"></script>
        <script src="https://cdn.rawgit.com/puhseechee/jpsych2/jpsychadd/jspsych-5.0/plugins/jspsych-survey-likert.js"></script>
        <script src="https://cdn.rawgit.com/puhseechee/jpsych2/jpsychadd/jspsych-5.0/plugins/jspsych-survey-multi-choice.js"></script>
        <link href="https://cdn.rawgit.com/puhseechee/jpsych2/jpsychadd/jspsych-5.0/css/jspsych.css" rel="stylesheet" type="text/css"></link>
        <link href="https://cdn.rawgit.com/puhseechee/jpsych2/jpsychadd/jspsych-5.0/css/photoupload.css" rel="stylesheet" type="text/css"></link>
    </head>
    <body>
    </body>
    <script>
    // set up the experiment timeline
    var timeline = [];
    
    // consent
    timeline.push({
      type: 'survey-multi-choice',
      questions: [''],
      options: [["I agree to participate in this study.", "I DO NOT agree to participate in this study"]],
      required: [true],
      horizontal: false,
      preamble: "<p> <strong>Please read this consent form carefully before deciding whether you would like to participate in this study.</strong></p><p><span ><u><br></u></span></p>"
      });
    
    // instructions
    timeline.push({type: 'text', cont_key: 'mouse', text: "<p>For an experiment examining social cognition, our lab is collecting photos of strangers taking on different facial expressions. In the following window, please use the accompanying web app to take a photo of yourself with the indicated facial expression. Please take care to clearly convey the expression indicated.</p><p>&nbsp;</p><p><strong>Click here to continue.</strong></p>"});
    
    // seek photo, use "smile" prompt
    timeline.push({type: 'photo-upload', prompt: '<div align="center"><p>Smile<p></div>'});
    
    // ask how happy they are on likert scale
    // ask how how much they consider themselves a happy person
    timeline.push({type: 'text', cont_key: 'mouse', text: "<p>In the following section, we want to ask you a few questions about your emotional state. You will be presented with a series of statements; indicate by selecting the appropriate radio button how much you believe the statement applies to you.</p><p>&nbsp;</p><p><strong>Click here to continue.</strong></p>"});
    timeline.push({type: 'survey-likert',
                  questions: ["I am happy.", "Overall, I consider myself a happy person."],
                  labels: [["Strongly Disagree", "Disagree", "Neutral", "Agree", "Strongly Agree"], ["Strongly Disagree", "Disagree", "Neutral", "Agree", "Strongly Agree"]]});

    // that's it
    jsPsych.init({
        timeline: timeline,
        on_finish: function() {
          jsPsych.data.displayData();
        }
    });

    </script>
</html>
